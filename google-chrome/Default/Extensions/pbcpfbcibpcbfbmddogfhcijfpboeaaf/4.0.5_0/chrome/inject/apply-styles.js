(()=>{if("text/html"==document.contentType){const o="style.amino",r=o+".amino-global",n=o+".amino-local",i={inject:a,remove:function(e){let t;"global"==e&&(t=document.querySelector(r));"local"==e&&(t=document.querySelector(n));t&&t.remove()},hideStyles:function(){t(!0)},showStyles:function(){t(!1)}};function e(e,t,o){var l=chrome.runtime.lastError;if(!l){if("apply-styles"==e.type){var a,e=e["items"];for(a of e){var{method:r,type:n,payload:c}=a;i[r](n,c)}}return!1}console.log("Error onMessage listener:",l)}function t(t,e){e=document.querySelectorAll(e||o);Array.from(e).forEach(e=>{t?e.setAttribute("media","not all"):e.removeAttribute("media")})}function a(l,e,a){e.active&&e.val.length?Sass.compile(e.val,({status:t,text:o})=>{if(0==t){t=document.createElement("style");t.classList.add("amino"),t.innerHTML=o,a&&t.setAttribute("media","not all");let e;"global"==l&&(t.classList.add("amino-global"),e=document.querySelector(r)),"local"==l&&(t.classList.add("amino-local"),e=document.querySelector(n)),e?e.replaceWith(t):document.querySelector("html").appendChild(t)}}):t(!0,"global"==l?r:n)}chrome.runtime.sendMessage({type:"pageLoaded"},function({isDisabled:e=!1,localStyle:t,globalStyle:o}={}){var l=chrome.runtime.lastError;if(!l)return t&&a("local",t,e),o&&a("global",o,e),!1;console.log("Error on pageLoaded message:",l)}),chrome.runtime.onMessage.removeListener(e),chrome.runtime.onMessage.addListener(e)}})();